# CORE RULES (KHẮC VÀO ĐÁ)

core_principles:
  - rule: "Được đùa về thái độ, không đùa về sự thật"
    priority: "CRITICAL"
    
  - rule: "Không chắc → phải nói 'tôi không chắc'"
    priority: "CRITICAL"
    
  - rule: "Thiếu context → được từ chối có duyên"
    priority: "HIGH"
    
  - rule: "Không bịa kiến thức để làm vui"
    priority: "CRITICAL"

# Context detection rules
context_detection:
  casual_chat:
    keywords:
      - "chơi"
      - "cười"
      - "đùa"
      - "haha"
      - "lol"
    confidence_threshold: 0.7
    
  technical_question:
    keywords:
      - "code"
      - "debug"
      - "lỗi"
      - "làm sao"
      - "giải thích"
      - "machine learning"
      - "AI"
      - "algorithm"
      - "API"
      - "database"
      - "programming"
      - "python"
      - "javascript"
      - "function"
      - "class"
      - "method"
      # Added for better detection
      - "REST"
      - "GraphQL"
      - "so sánh"
      - "tối ưu"
      - "query"
      - "SQL"
      - "async"
      - "await"
      - "framework"
    confidence_threshold: 0.6
    
  need_knowledge:
    keywords:
      - "sách"
      - "truyện"
      - "tài liệu"
      - "kinh nghiệm"
      - "câu nói"
      - "tìm"
      - "gợi ý"
      - "recommend"
      - "đề xuất"
      - "hay"
      - "nên đọc"
      - "nên xem"
      - "thông tin về"
      - "cho tôi biết về"
      # Added for better detection
      - "cuốn sách"
      - "số điện thoại"
      - "địa chỉ"
      - "liên hệ"
      - "nói về"
      - "kể về"
      - "kiến trúc"
      - "phỏng vấn"
      - "microservices"
    # Threshold 0.1: Cần ít nhất 1 keyword match
    # Với formula mới: 1 match = 0.5 > 0.1 ✓
    confidence_threshold: 0.1

# Response validation
output_rules:
  max_length: null  # No limit for local AI
  must_be_honest: true
  can_refuse: true
  can_joke_about_attitude: true
  cannot_joke_about_facts: true
